# COPILOT CONTEXT - WEBSITE_HOC_TIENG_ANH_PROJECT
TÃ i liá»‡u nÃ y cung cáº¥p bá»‘i cáº£nh ká»¹ thuáº­t toÃ n diá»‡n cá»§a dá»± Ã¡n WEBSITE_HOC_TIENG_ANH Ä‘á»ƒ GitHub Copilot cÃ³ thá»ƒ há»— trá»£ hiá»‡u quáº£ nháº¥t.
## 1\. CÃ¡ch cháº¡y dá»± Ã¡n 
[cite\_start]Dá»± Ã¡n bao gá»“m hai pháº§n chÃ­nh: frontend (React) vÃ  backend (Node.js + Express + MongoDB). DÆ°á»›i Ä‘Ã¢y lÃ  hÆ°á»›ng dáº«n chi tiáº¿t Ä‘á»ƒ thiáº¿t láº­p, cháº¡y vÃ  khá»Ÿi Ä‘á»™ng láº¡i cáº£ hai pháº§n trong terminal.
frontend: cd frontend; npm run dev
backend: cd backend; npm run dev
[cite\_start]TrÆ°á»›c khi tráº£ lá»i tÃ´i hÃ£y Ä‘á»c qua ká»¹ file .env cá»§a backend nhÃ© 

## 2\. TrÆ°á»›c khi tráº£ lá»i vÃ  lÃ m viá»‡c vá»›i dá»± Ã¡n
[cite\_start] TrÆ°á»›c khi tráº£ lá»i tÃ´i hÃ£y Ä‘á»c qua ká»¹ file README.md trong thÆ° má»¥c docs nhÃ©
[cite\_start] TrÆ°á»›c khi lÃ m viá»‡c vá»›i dá»± Ã¡n hÃ£y nhá»› lÃ  luÃ´n pháº£i giá»¯ Ä‘Æ°á»£c logic, ui, ux vÃ  tÃ´ng mÃ u giao diá»‡n ban Ä‘áº§u cá»§a dá»± Ã¡n nhÃ©. Äá»«ng thay Ä‘á»•i giao diá»‡n vÃ  tÃ´ng mÃ u cá»§a dá»± Ã¡n khi chÆ°a cÃ³ sá»± Ä‘á»“ng Ã½ cá»§a tÃ´i nhÃ©.
[cite\_start] TrÆ°á»›c khi lÃ m viá»‡c vá»›i dá»± Ã¡n hÃ£y nhá»› lÃ  luÃ´n pháº£i giá»¯ Ä‘Æ°á»£c cáº¥u trÃºc thÆ° má»¥c vÃ  file ban Ä‘áº§u cá»§a dá»± Ã¡n nhÃ©. Äá»«ng thay Ä‘á»•i cáº¥u trÃºc thÆ° má»¥c vÃ  file cá»§a dá»± Ã¡n khi chÆ°a cÃ³ sá»± Ä‘á»“ng Ã½ cá»§a tÃ´i nhÃ©.
[cite\_start] TrÆ°á»›c khi lÃ m viá»‡c vá»›i dá»± Ã¡n hÃ£y nhá»› lÃ  luÃ´n pháº£i giá»¯ Ä‘Æ°á»£c cÃ¡c tiÃªu chuáº©n code ban Ä‘áº§u cá»§a dá»± Ã¡n nhÃ©. Äá»«ng thay Ä‘á»•i cÃ¡c tiÃªu chuáº©n code cá»§a dá»± Ã¡n khi chÆ°a cÃ³ sá»± Ä‘á»“ng Ã½ cá»§a tÃ´i nhÃ©.
[cite\_start] TrÆ°á»›c khi tráº£ lá»i cÃ¡c cÃ¢u há»i cá»§a tÃ´i Ä‘á»«ng cÃ³ tá»± Ã½ táº¡o file .md mÃ  hÃ£y tráº£ lá»i chi tiáº¿t vÃ  dá»… hiá»ƒu cho tÃ´i trá»±c tiáº¿p luÃ´n chá»© Ä‘á»«ng cÃ³ táº¡o file . 
[cite\_start] Khi tÃ´i muá»‘n há»i 1 chá»§ Ä‘á», hay váº¥n Ä‘á» gÃ¬ Ä‘áº¥y, Ä‘á»«ng tá»± Ã½ lÃ m gÃ¬ chá»‰nh sá»­a hay tÃ¡c Ä‘á»™ng vÃ o code luÃ´n mÃ  hÃ£y trÃ¬nh bÃ y ra hÆ°á»›ng giáº£i quyáº¿t vÃ  há»i tÃ´i xem tÃ´i cÃ³ Ä‘á»“ng Ã½ khÃ´ng Ä‘Ã£ nhÃ©. Chá»‰ khi nÃ o tÃ´i Ä‘á»“ng Ã½ thÃ¬ báº¡n má»›i Ä‘Æ°á»£c phÃ©p lÃ m theo hÆ°á»›ng giáº£i quyáº¿t Ä‘Ã³ thÃ´i nhÃ©.
[cite\_end]
## 3\. VIDEO LISTENING EXERCISE - TECHNICAL SPECIFICATION
[cite\_start] TrÆ°á»›c khi lÃ m viá»‡c vá»›i tÃ­nh nÄƒng VIDEO LISTENING EXERCISE hÃ£y Ä‘á»c ká»¹ file VIDEO_LISTENING_EXERCISE_TECHNICAL_SPECIFICATION nÃ y nhÃ©:

1. Tá»”NG QUAN
BÃ i táº­p luyá»‡n nghe dá»±a trÃªn video YouTube
User Ä‘iá»n tá»«/cÃ¢u vÃ o Ã´ trá»‘ng sau khi nghe
Free, educational, pure listening practice
2. ADMIN WORKFLOW
Táº¡o exercise:

-Chá»n video YouTube
-Download file .srt tá»« downsub.com
-Edit file .srt: Thay tá»« cáº§n blank â†’ [[answer]]
I am [[running]] to the store.
-Upload: YouTube URL + file .srt Ä‘Ã£ edit
-System auto-parse vÃ  publish
Validation rules:

âœ… File .srt format
âœ… Syntax: [[answer]] (answer = Ä‘Ã¡p Ã¡n Ä‘Ãºng)
âœ… Max 1 blank/cÃ¢u
âœ… Timing khÃ´ng overlap
3. USER WORKFLOW
Flow:

-Chá»n video tá»« library
-Click "Start" â†’ Video play, KHÃ”NG HIá»†N subtitle
Äáº¿n cÃ¢u cÃ³ blank:
Video cháº¡y Ä‘áº¿n háº¿t cÃ¢u (endTime)
Video Tá»° Äá»˜NG PAUSE
Hiá»‡n cÃ¢u: "I am _____ to the store."
-User Ä‘iá»n Ä‘Ã¡p Ã¡n
[ğŸ”Š Replay] button: Nghe láº¡i Ä‘Ãºng cÃ¢u Ä‘Ã³ (tá»« startTime â†’ endTime)
-Click "Check":
âœ… ÄÃºng: Hiá»‡n tá»« mÃ u xanh â†’ Auto continue sau 2s
âŒ Sai: Hiá»‡n Ä‘Ã¡p Ã¡n mÃ u Ä‘á» â†’ [Try Again] hoáº·c [Continue]
-Video resume â†’ Láº·p láº¡i cho blank tiáº¿p theo
-Háº¿t blanks â†’ Summary screen (score, details)

4. DATA STRUCTURE
// File .srt format
1
00:00:01,500 --> 00:00:04,200
I am [[running]] to the store.

// Parsed to:
interface SubtitleBlock {
  index: number;
  startTime: number;        // 1.5 (giÃ¢y)
  endTime: number;          // 4.2
  originalText: string;     // "I am [[running]] to the store."
  displayText: string;      // "I am _____ to the store."
  hasBlank: boolean;
  answer?: string;          // "running"
}

// Database model
interface VideoExercise {
  youtubeId: string;
  title: string;
  level: "A1" | "A2" | "B1" | "B2" | "C1" | "C2";
  topics: string[];
  subtitles: SubtitleBlock[];
  blankCount: number;
}

5. ANSWER VALIDATION
// Normalize & compare
function checkAnswer(userInput: string, correctAnswer: string): boolean {
  const normalize = (text: string) => text
    .toLowerCase()              // "Running" â†’ "running" âœ…
    .trim()                     
    .replace(/[.,!?;:'"]/g, ''); // Remove punctuation
  
  return normalize(userInput) === normalize(correctAnswer);
}

// âœ… ÄÃšNG: "Running", "running.", "  running  "
// âŒ SAI: "run" (khÃ¡c word form), "runing" (spelling error)
6. KEY FEATURES
Pause timing: Sau khi háº¿t cÃ¢u (endTime)

Replay: Nghe láº¡i ÄÃšNG CÃ‚U cÃ³ blank (startTime â†’ endTime)

Subtitle: áº¨n khi video cháº¡y, chá»‰ hiá»‡n khi pause

Blank rules: 1 blank/cÃ¢u maximum

Answer matching: Case-insensitive, strip punctuation, exact word

7. TECH STACK
Backend:

Parse .srt: Extract timing, text, answer
Validate: Syntax, timing, blank count
API: CRUD video exercises
Frontend:

YouTube IFrame API
Monitor currentTime (100ms interval)
Pause at endTime
Replay: seekTo(startTime) + play + auto-pause at endTime
Libraries needed:

react-youtube (YouTube player wrapper)
SRT parser (custom hoáº·c library)
8. VALIDATION CHECKLIST
 File .srt format, UTF-8
 Timing: HH:MM:SS,mmm format
 Blank syntax: [[answer]] correct
 Max 1 blank/sentence
 Answer not empty
 No unmatched brackets

WORKFLOW TÃ“M Táº®T:
Admin: Video URL + .srt [[answer]] â†’ Upload â†’ System parse
User: Chá»n video â†’ Play (no sub) â†’ Pause at blank â†’ Äiá»n/Replay â†’ Check â†’ Continue

[cite\_end]